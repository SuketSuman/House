const heroSearchSections=document.querySelectorAll('.hero-search-section');heroSearchSections.forEach((sectionElem)=>{const submitButton=sectionElem.querySelector('button[type=submit]');submitButton.addEventListener('click',(e)=>{const searchForm=sectionElem.querySelector('form');const bedroomsSelected=searchForm.querySelectorAll('.hero-search-bedrooms input:checked');const houseTypesSelected=searchForm.querySelectorAll('.hero-search-house-type input:checked');e.preventDefault();if(bedroomsSelected.length+houseTypesSelected.length===0){window.location.href=searchForm.action;}else{const checkboxValueToQuery=(inputElems)=>{return Array.from(inputElems).reduce((prev,curr,index)=>{let output='';switch(index){case 0:output=inputElems.length===1?curr.value:curr.value+',';break;case inputElems.length-1:output=prev+curr.value;break;default:output=prev+','+curr.value;break;}
return output;},'');};const bedroomQuery=bedroomsSelected.length>0?'_sft_pa_bedrooms='+checkboxValueToQuery(bedroomsSelected):'';const houseTypeQuery=houseTypesSelected.length>0?'_sft_product_cat='+checkboxValueToQuery(houseTypesSelected):'';searchForm.setAttribute('action',searchForm.action+=`?${ bedroomQuery }&${ houseTypeQuery }`);window.location.href=searchForm.action;}});});